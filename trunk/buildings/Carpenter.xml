<?xml version="1.0" ?>



<building name="Carpentry" gameID="carpenters_workshop"> 

	<!-- benches block -->
	<if> 
		<!-- replace this with position index if required -->
		<BuildingOccupancy value="3" />
		
		<!-- gyah! offset semi-benches make for hideous config -->
		<if>
			<PositionIndex value=3 />
			<if>
				<MaterialType value="Wood" />
				<sprite index = 251 offsetx=2 offsety=-1/>
			</if>
			<else>
				<MaterialType value="Metal"/>
				<sprite index = 255 offsetx=2 offsety=-1/>
			</else>
			<else>
				<MaterialType value="GreenGlass"/>
				<sprite index = 286 offsetx=2 offsety=-1/>
			</else>
			<else>
				<or>
					<MaterialType value="ClearGlass"/>
					<MaterialType value="CrystalGlass"/>
				</or>
				<sprite index = 284 offsetx=2 offsety=-1/>
			</else>
			<else>
				<sprite index = 249 offsetx=2 offsety=-1/>
			</else>	
			<sprite index = 250 offsetx=3 offsety=-3/>	
		</if>
		
		<else>
			<PositionIndex value=6 />
			<if>
				<MaterialType value="Wood" />
				<sprite index = 251 />
			</if>
			<else>
				<MaterialType value="Metal"/>
				<sprite index = 255 />
			</else>
			<else>
				<MaterialType value="GreenGlass"/>
				<sprite index = 286 />
			</else>
			<else>
				<or>
					<MaterialType value="ClearGlass"/>
					<MaterialType value="CrystalGlass"/>
				</or>
				<sprite index = 284 />
			</else>
			<else>
				<sprite index = 249 />
			</else>	
			<sprite index = 290 offsetx=6 offsety=-5/>
		</else>				
			
		<else>
			<!-- benches -->
			<if>
				<MaterialType value="Wood" />
				<sprite index = 274 />
			</if>
			<else>
				<MaterialType value="Metal"/>
				<sprite index = 254 />
			</else>
			<else>
				<MaterialType value="GreenGlass"/>
				<sprite index = 285 />
			</else>
			<else>
				<or>
					<MaterialType value="ClearGlass"/>
					<MaterialType value="CrystalGlass"/>
				</or>
				<sprite index = 283 />
			</else>
			<else>
				<sprite index = 273 />
			</else>
			<!-- borders -->
			<if>
				<not>
					<or>
						<NeighbourIdentical dir="TopRight"/>
						<NeighbourWall dir="TopRight"/>
					</or>
				</not>
				<sprite index = 282 />
			</if>
			<if>
				<not>
					<or>
						<NeighbourIdentical dir="TopLeft"/>
						<NeighbourWall dir="TopLeft"/>
					</or>
				</not>
				<sprite index = 280 />
			</if>	
		</else>
	</if>
	<else>
		<not><or>
			<NeighbourSameBuilding dir="TopRight"/>
			<NeighbourSameBuilding dir="TopLeft"/>
		</or></not>
		<sprite index = 244 />
	</else>
	<else>
		<not>
			<NeighbourSameBuilding dir="TopRight"/>
		</not>
		<sprite index = 240 />
	</else>
	<else>
		<not>
			<NeighbourSameBuilding dir="TopLeft"/>
		</not>
		<sprite index = 241 />
	</else>
	<!-- end benches block -->
 
	<!-- contents -->
	
	<if>
		<PositionIndex value=2 />
		<sprite index = 252 offsetx=-2 offsety=-1/>
	</if>
	
	<if>
		<BuildingOccupancy value="3" />
		<if>
			<PositionIndex value=8 />
			<sprite index = 279 />
		</if>
	</if>		
			
	<!-- generic border -->

	<else>
		<and>
			<BuildingOccupancy value="1" />
			<PositionIndex value=4 />
		</and>
		<sprite index = 321 />
	</else>	
	
	<else>
		<not><or>
			<NeighbourSameBuilding dir="BottomRight"/>
			<NeighbourSameBuilding dir="BottomLeft"/>
		</or></not>
		<sprite index = 246 />
	</else>
	<else>
		<not><or>
			<NeighbourSameBuilding dir="BottomLeft"/>
		</or></not>
		<sprite index = 242 />
	</else>
	<else>
		<not><or>
			<NeighbourSameBuilding dir="BottomRight"/>
		</or></not>
		<sprite index = 243 />
	</else>	
	
	<else>
		<empty/>
	</else>	
	<!-- end generic block -->
	
</building> 
